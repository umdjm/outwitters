var CandyCoreMine = '[{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"o3","unitClass":""},{"class":"o3","unitClass":""},{"class":"o3","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"bgreen","unitClass":""},{"class":"t2","unitClass":""},{"class":"t4","unitClass":""},{"class":"t3","unitClass":""},{"class":"t4","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"bgreen","unitClass":""},{"class":"bgreen","unitClass":""},{"class":"t2","unitClass":""},{"class":"t3","unitClass":""},{"class":"t4","unitClass":""},{"class":"t4","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"bgreen1","unitClass":""},{"class":"t2","unitClass":""},{"class":"t4","unitClass":""},{"class":"","unitClass":""},{"class":"t4","unitClass":""},{"class":"t4","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"bgreen","unitClass":""},{"class":"bgreen","unitClass":""},{"class":"t2","unitClass":""},{"class":"","unitClass":""},{"class":"t4","unitClass":""},{"class":"t4","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"bgreen","unitClass":""},{"class":"o2","unitClass":""},{"class":"t4","unitClass":""},{"class":"t4","unitClass":""},{"class":"t4","unitClass":""},{"class":"t2","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"o3","unitClass":""},{"class":"sgreen","unitClass":""},{"class":"t4","unitClass":"heavygreen"},{"class":"t4","unitClass":""},{"class":"bonus","unitClass":""},{"class":"t2","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"sblue","unitClass":""},{"class":"t4","unitClass":""},{"class":"t4","unitClass":""},{"class":"t4","unitClass":""},{"class":"t4","unitClass":""},{"class":"t2","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"t4","unitClass":"medicgreen"},{"class":"bonus","unitClass":""},{"class":"t4","unitClass":""},{"class":"t4","unitClass":""},{"class":"o2","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"sgreen","unitClass":""},{"class":"t4","unitClass":""},{"class":"o3","unitClass":""},{"class":"t4","unitClass":""},{"class":"t4","unitClass":"soldierred"},{"class":"bred","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"o3","unitClass":""},{"class":"sblue","unitClass":""},{"class":"o3","unitClass":""},{"class":"t4","unitClass":""},{"class":"t4","unitClass":""},{"class":"bred","unitClass":""},{"class":"bred","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"bblue","unitClass":""},{"class":"t4","unitClass":"sniperblue"},{"class":"t4","unitClass":""},{"class":"t4","unitClass":""},{"class":"t4","unitClass":""},{"class":"bred1","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"bblue","unitClass":""},{"class":"bblue","unitClass":""},{"class":"t4","unitClass":""},{"class":"t4","unitClass":""},{"class":"t4","unitClass":""},{"class":"bred","unitClass":""},{"class":"bred","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"bblue1","unitClass":""},{"class":"t4","unitClass":""},{"class":"t4","unitClass":""},{"class":"t4","unitClass":""},{"class":"t4","unitClass":"sniperred"},{"class":"bred","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"bblue","unitClass":""},{"class":"bblue","unitClass":""},{"class":"t4","unitClass":""},{"class":"t4","unitClass":""},{"class":"o3","unitClass":""},{"class":"sred","unitClass":""},{"class":"o3","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"bblue","unitClass":""},{"class":"t4","unitClass":"soldierblue"},{"class":"t4","unitClass":""},{"class":"o3","unitClass":""},{"class":"t4","unitClass":""},{"class":"syellow","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"o2","unitClass":""},{"class":"t4","unitClass":""},{"class":"t4","unitClass":""},{"class":"bonus","unitClass":""},{"class":"t4","unitClass":"medicyellow"},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"t2","unitClass":""},{"class":"t4","unitClass":""},{"class":"t4","unitClass":""},{"class":"t4","unitClass":""},{"class":"t4","unitClass":""},{"class":"sred","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"t2","unitClass":""},{"class":"bonus","unitClass":""},{"class":"t4","unitClass":""},{"class":"t4","unitClass":"heavyyellow"},{"class":"syellow","unitClass":""},{"class":"o3","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"t2","unitClass":""},{"class":"t4","unitClass":""},{"class":"t4","unitClass":""},{"class":"t4","unitClass":""},{"class":"o2","unitClass":""},{"class":"byellow","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"t4","unitClass":""},{"class":"t4","unitClass":""},{"class":"","unitClass":""},{"class":"t2","unitClass":""},{"class":"byellow","unitClass":""},{"class":"byellow","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"t4","unitClass":""},{"class":"t4","unitClass":""},{"class":"","unitClass":""},{"class":"t4","unitClass":""},{"class":"t2","unitClass":""},{"class":"byellow1","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"t4","unitClass":""},{"class":"t4","unitClass":""},{"class":"t3","unitClass":""},{"class":"t2","unitClass":""},{"class":"byellow","unitClass":""},{"class":"byellow","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"t4","unitClass":""},{"class":"t3","unitClass":""},{"class":"t4","unitClass":""},{"class":"t2","unitClass":""},{"class":"byellow","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"o3","unitClass":""},{"class":"o3","unitClass":""},{"class":"o3","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""},{"class":"","unitClass":""}]';

var maps = [{"mapId":0, "mapTheme":2, "mapName":"Candy Core Mine", "mapData":CandyCoreMine}];

function loadMapData(id){

	var mapId = id;
	var mapTheme, mapName, mapData;

	for(int i = 0; i < maps.length; i++){
		var entry = maps[i];
		if(entry.mapId == mapId){
			mapTheme = entry.mapTheme;
			mapName = entry.mapName;
			mapData = entry.mapData;
		}
	}
	
    var json = JSON.parse(mapData);
    
    if(json.error) {
        alert(json.errormessage);
        return;
    }

    MapEditor.Model.setTheme(parseInt(mapTheme, 10));
    grid.setClasses(json, ctx);
}